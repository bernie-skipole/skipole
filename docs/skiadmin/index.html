<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1" name="viewport" />
<title>Index</title>
<link href="../css/w3.css" type="text/css" rel="stylesheet" />
<link href="../css/w3-theme-ski.css" type="text/css" rel="stylesheet" />
</head>
<body class="w3-theme">
<div class="w3-container w3-theme-d1">
<p>
<img src="../images/logo.svg" height="28" width="56" align="bottom" />
&nbsp;Skipole WSGI generator.
</p>
</div>
<div style="width:250px" class="w3-sidebar w3-bar-block w3-collapse w3-card w3-animate-left w3-theme-l1 w3-container" id="mySidebar">
<button class="w3-bar-item w3-button w3-large w3-hide-large" onclick="w3_close()">Close &times;</button>
<p>Topics:</p>
 <div class="w3-bar-block w3-black">
  <a href="../index.html" class="w3-bar-item w3-button">Introduction</a>
  <a href="../getting_started.html" class="w3-bar-item w3-button">Getting Started</a>
  <a href="../pythoncode.html" class="w3-bar-item w3-button">Your Code</a>
  <a href="index.html" class="w3-bar-item w3-button w3-blue">skiadmin</a>
  <a href="../startcall.html" class="w3-bar-item w3-button">start_call</a>
  <a href="../submitdata.html" class="w3-bar-item w3-button">submit_data</a>
  <a href="../endcall.html" class="w3-bar-item w3-button">end_call</a>
  <a href="../exceptions/index.html" class="w3-bar-item w3-button">Exceptions</a>
  <a href="../pagedata.html" class="w3-bar-item w3-button">PageData</a>
  <a href="../sectiondata.html" class="w3-bar-item w3-button">SectionData</a>
  <a href="../skicall.html" class="w3-bar-item w3-button">skicall</a>
  <a href="../servers/index.html" class="w3-bar-item w3-button">Serving wsgi</a>
  <a href="../examples/index.html" class="w3-bar-item w3-button">Code Examples</a>
</div>
<p>Development at GitHub:</p>
 <div class="w3-bar-block w3-black">
  <a href="https://github.com/bernie-skipole/skipole/" class="w3-bar-item w3-button">github.com/bernie-skipole/skipole</a>
</div>
</div>
<div class="w3-main" style="margin-left:250px">
<div class="w3-container  w3-section">
<button class="w3-button w3-xlarge w3-hide-large w3-black" onclick="w3_open()">&#9776; Menu</button>
<h3>skiadmin</h3>
<p>Having created a project with:</p>
<p>python3 -m skilift myproj /path/to/my/projectfiles</p>
<p>Inspect the file /path/to/my/projectfiles/myproj.py, and you will see it contains the application:</p>
<pre>
    application = WSGIApplication(project='myproj',
                                  projectfiles=PROJECTFILES,
                                  proj_data={},
                                  start_call=start_call,
                                  submit_data=submit_data,
                                  end_call=end_call,
                                  url="/",
                                  proj_ident=None)

</pre>
<p>You will also see that a skiadmin sub-project has been added:</p>
<pre>
############### THESE LINES IMPORT SKILIFT AND ADD THE SKIADMIN SUB-PROJECT #
############### AND SHOULD BE REMOVED WHEN YOU DEPLOY YOUR APPLICATION #

## The skilift package is only needed for development, it is not needed
## for your finished application


if __name__ == "__main__":

    set_debug(True)

    from skilift import make_skiadmin, development_server

    skiadmin_application = make_skiadmin(editedprojname=PROJECT, examples="http://www.webparametrics.co.uk/skiwidgets/")
    application.add_project(skiadmin_application, url='/skiadmin')

    # the skiadmin sub project can now be used to edit your application
    # please note: when being used to edit a project in this way, skilift requires the
    # application to be the root application, and to have proj_ident to be set to the
    # project name ( or set to None which automatically does this )

    # serve the application with the development server from skilift

    host = "127.0.0.1"
    port = 8000
    print("Serving %s on port %s. Call http://localhost:%s/skiadmin to edit." % (PROJECT, port, port))
    development_server(host, port, application)
 
</pre>

<p>This code does three things, it calls set_debug(True), which gives enhanced error reporting, it creates a project 'skiadmin' which is added to your own project at url '/skiadmin', and it runs your application on a development web server.</p>
<p>Both your project, and the skiadmin sub project are served and can be accessed by your web browser. Skiadmin provides a web based method of adding pages and widgets to your web site.</p>
<p>Finally, when you deploy your code to a live web site, you would delete the above lines, so that the skiadmin sub project is no longer served.</p>
<p>skiadmin allows you to add pages of different types, and edit them, typically 'template' pages containing widgets, and 'responder' pages which accept incoming requests from the user, then calls your code, and passes the results to a template page, which is returned to the client.</p>
<p>The pages added by skiadmin are given 'idents' being (projectname, pagenumber) and labels mapping a name to these idents can be created. 'sections' can also be created, which can also contain widgets, and can be inserted into template pages, and 'textblocks' can be made which contain either plain text or your own html code.</p>
<p>When you create or alter any page, ensure you choose the 'Save' option to make your changes permanent, and when you change your Python code you need to restart the web server.</p>
<div>
 <h3>The main admin page.</h3> 
 <img src="../images/screen01.png" alt="First admin page" style="width:1000px;height:600px;" />
</div>
<p>Further skiadmin features are described below:</p>
<p><a href = "screenshots.html">Screenshots of the web pages</a></p>
<p><a href = "navigation.html">Navigation</a></p>
<p><a href="root.html">Root</a></p>

<div class="w3-bar w3-border">
  <a href="../pythoncode.html" class="w3-bar-item w3-button w3-green">&lt;&nbsp;Your Code</a>
  <a href="screenshots.html" class="w3-bar-item w3-button w3-green w3-right">Screenshots&nbsp;&gt;</a>
</div> 

</div>
</div>
<script>
function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
}
function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
}
</script>
</body>
</html>

